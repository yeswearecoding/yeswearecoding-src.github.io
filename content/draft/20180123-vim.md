Title: Comment (enfin!) utiliser Vim
Date: 2018-01-28 10:09
Modified: 2018-01-28 10:09
Category: tools
Tags: vim, ide
Slug: enfin-utiliser-vim
Authors: YesWeAreCoding
Summary: Utiliser correctement VIM et le rendre utilisable et utile !
Status: draft



Hello !

Vous connaissez Vim ? Mais si, quand vous êtes sur Linux et que le seul éditeur disponible c'est lui ! Quand vous ne comprenez jamais quand est-ce qu'il va écrire dans le fichier ou s'il va exécuter des commandes... Vim, ce grand incompris, si difficile à utiliser...

Et pourtant, quand vous faites quelques recherches (j'ai pas dit RTFM..) pour retrouver ces #!@?!#@! de commandes pour enfin réussir à faire une modif dans un fichier de conf, vous tombez sur pleins d'articles où les gens sont heureux depuis qu'il maitrise cet outil du diable ! Comment est-ce possible ? Et il y a des gens qui l'utilise pour faire du dév ??? Moi qui n'arrive pas à modifier mon *.conf*... 

Allez, nous allons faire un tour des fonctionnalités pour (enfin!) réussir à en faire quelque chose, voir l'apprécier, et peut-être même en tomber amoureux ! J'exagère un peu mais, même si la courbe d'apprentissage est assez raide, on peut finir par le trouver bien utile. Pour ma part, j'en suis très content quand je dois éditer des fichiers sur des machines un peu légères (il marche très bien sur un raspberry par exemple) ou même pour coder des petits projets.

Allez, *let's dive into vim !*

---
Sommaire

[TOC]

---

## Guide de survie

Il faut comprendre une chose avec Vim. Il fonctionne selon plusieurs modes, chacun avec son comportement et permettant de réaliser des actions particulières. Les trois les plus importants sont :
1. normal : le mode par défaut au démarrage. Il permet de se déplacer dans le texte et de le manipuler (copier, couper, coller).
1. insert : comme son nom l'indique, permet d'insérer du texte. 
1. visual : essentiellement pour faire des sélections, sert par exemple pour copier des blocs de commandes à répeter.

La difficulté lorsque l'on débute avec Vim, c'est de passer du mode normal au mode insertion puis revenir au mode normal pour enregistrer ses modifications.

> Pour entrer dans le mode `insert`, appuyer sur `i`. Faites vos modifications puis appuyer sur `echap` pour revenir au mode `normal`. Sauvegarder vos changements en faisant les touches `:` (deux points) puis `w` (comme write), appuyez sur `entrée`.

Ca y est, vous savez éditer un fichier avec vim. C'était si compliqué ? 

## Un VIM un peu plus confortable

VIM contient pas mal de fonctionnalités incluses par défaut. Pour les charger à l'ouverture, il faut paramétrer le fichier `~/.vimrc` avec les options voulues. Je vous ai préparer un *gist* avec un `vimrc` fonctionnel qui ne nécessite aucune dépendances extérieures (contrairement à la troisième partie de cet article où on fera de VIM une bête de concours !). J'ai commenté les principales lignes, n'hésitez pas à me laisser un commentaires si vous souhaitez plus d'info ;-)

[gist:id=a231c759b23063150f63279885ae660a]


## VIM en tant qu'IDE

Là, on passe au chose sérieuse... On peut en faire quelque chose de vraiment puissant, avec autocomplétion et tout le toutim.  
On commence par installer le gestionnaire de plugins. Il en existe plusieurs, mon préféré est [Vundle](https://github.com/VundleVim/Vundle.vim). Pour l'installer (nécessite `git`) :


```bash
mkdir ~/.vim/bundle  
git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim
```


Il faut modifier son `.vimrc` pour prendre en compte les plugins (copier/coller de la doc) et ajouter les lignes suivantes :

	::: bash
	" set the runtime path to include Vundle and initialize  
	set rtp+=~/.vim/bundle/Vundle.vim  
	call vundle#begin()  
	" alternatively, pass a path where Vundle should install plugins  
	"call vundle#begin('~/some/path/here')  
	
	" let Vundle manage Vundle, required  
	Plugin 'VundleVim/Vundle.vim'  

	
On peut maintenant y ajouter nos plugins selon cet exemple :

```bash
" The following are examples of different formats supported.
" Keep Plugin commands between vundle#begin/end.
" plugin on GitHub repo
Plugin 'tpope/vim-fugitive'
" plugin from http://vim-scripts.org/vim/scripts.html
" Plugin 'L9'
" Git plugin not hosted on GitHub
Plugin 'git://git.wincent.com/command-t.git'
" git repos on your local machine (i.e. when working on your own plugin)
Plugin 'file:///home/gmarik/path/to/plugin'
" The sparkup vim script is in a subdirectory of this repo called vim.
" Pass the path to set the runtimepath properly.
Plugin 'rstacruz/sparkup', {'rtp': 'vim/'}
" Install L9 and avoid a Naming conflict if you've already installed a
" different version somewhere else.
" Plugin 'ascenator/L9', {'name': 'newL9'}

" All of your Plugins must be added before the following line
call vundle#end()            " required
filetype plugin indent on    " required
```